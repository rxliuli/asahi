import{d as i,a as v,C as p,r as b,z as C}from"./vendor.25699018.js";const N=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))u(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&u(l)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}};N();i.extend(v);p.register(...b);const g=[{time:"2018-01",value:1},{time:"2019-01",value:2},{time:"2020-01",value:3},{time:"2021-01",value:4},{time:"2022-01",value:5}];function w(t,r){const a=r.value/t.value,u=i.duration(i(r.time).diff(i(t.time))).asYears();return Math.pow(a,1/u)}function x(t){const r=t[t.length-1],a=t[0];return w(a,r)}function E(t){const r=Math.max(...t.map(a=>a.value));return t.map(a=>({time:a.time,value:a.value/r}))}function d(t){const r=x(t);function a(c){return{labels:c.map(n=>n.time),datasets:[{label:"\u5B9E\u9645\u589E\u957F",backgroundColor:"rgb(255, 99, 132)",borderColor:"rgb(255, 99, 132)",data:c.map(n=>n.value)},{label:"\u6309\u7167\u5E73\u5747\u5E74\u589E\u957F\u7387",backgroundColor:"#ffce56",borderColor:"#ffce56",data:c.map(n=>{const s=c[0],h=i.duration(i(n.time).diff(i(s.time))).asYears();return s.value*Math.pow(r,h)})}]}}const u=a(t),e={type:"line",data:u,options:{locale:"zh-CN",scales:{x:{type:"time",time:{displayFormats:{quarter:"YYYY-MM"}},adapters:{date:{locale:C}}}}}},o=new p(document.getElementById("myChart"),e);function l(c){const n=a(c);o.data=n,o.update()}Reflect.set(window,"updateData",l)}const y=document.querySelector("textarea");y.value=JSON.stringify(g,null,2);var m;(m=document.querySelector("button"))==null||m.addEventListener("click",()=>{const t=y.value;location.href=location.origin+"?data="+encodeURIComponent(btoa(JSON.stringify(E(JSON.parse(t)))))});const f=new URLSearchParams(location.search);f.has("data")?d(JSON.parse(atob(decodeURIComponent(f.get("data"))))):d(g);
